<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãã‚‚ã¡ã«ã£ã</title>

    <style>
        body {
            font-family: "Nunito", "Hiragino Maru Gothic ProN", sans-serif;
            background: #fff8f8;
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        h1 {
            font-size: 8vw;
            color: #ff8ba7;
            margin-bottom: 20px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
        }

        .emotion-btn {
            width: 70%;
            max-width: 350px;
            margin: 12px auto;
            padding: clamp(10px, 3vw, 18px);
            font-size: clamp(10px, 4vw, 20px);
            border-radius: clamp(10px, 4vw, 16px);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            text-decoration: none;
            transition: transform 0.2s;
        }

        .emotion-btn:hover {
            transform: scale(1.03);
        }

        .pink   { background: #ff9ecb; }
        .green  { background: #a8e6a3; }
        .yellow { background: #ffe27a; color: #7a5400; }
        .purple { background: #c7b4ff; }
        .blue   { background: #a7c7ff; }
        .black  { background: #b5b5b5; }
        .red    { background: #ff9a9a; }
        .white  { background: #f1f1f1; color: #555; }

        .logs-btn {
            margin-top: 30px;
            display: inline-block;
            padding: 4px 8px;
            background: #b5d6ff;
            color: white;
            border-radius: 30px;
            font-size: 3vw;
            text-decoration: none;
        }

        /* ãµã‚ãµã‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes fluffy {
            0%   { transform: translateY(0); }
            50%  { transform: translateY(-10px); }
            100% { transform: translateY(0); }
        }

        .family-area {
            margin-top: 45px;
            display: flex;
            justify-content: center;
            gap: 60px;
        }

        .family-emoji {
            font-size: 10vw;
            cursor: pointer;
            animation: fluffy 3s ease-in-out infinite;
            transition: transform 0.2s ease;
        }

        .family-emoji:hover {
            transform: scale(1.15);
        }

        .sound-emojis {
            margin-top: 10px;
            display: none;
            justify-content: center;
            gap: 35px;
        }

        .sound-emoji {
            font-size: 12vw;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .sound-emoji:hover {
            transform: scale(1.18);
        }
    </style>
</head>

<body>

    <h1>ğŸŒˆ ãã‚‚ã¡ ã«ã£ã ğŸŒˆ</h1>

    <div class="grid">
        <a href="/input/pink" class="emotion-btn pink">ğŸ˜„ ã†ã‚Œã—ã„</a>
        <a href="/input/green" class="emotion-btn green">ğŸ˜Œ ãŠã¡ã¤ã</a>
        <a href="/input/yellow" class="emotion-btn yellow">ğŸ˜® ã³ã£ãã‚Š</a>
        <a href="/input/purple" class="emotion-btn purple">ğŸ˜• ã‚‚ã‚„ã‚‚ã‚„</a>
        <a href="/input/blue" class="emotion-btn blue">ğŸ˜¢ ã•ã¿ã—ã„</a>
        <a href="/input/black" class="emotion-btn black">ğŸ˜´ ã¤ã‹ã‚ŒãŸ</a>
        <a href="/input/red" class="emotion-btn red">ğŸ˜¡ ã‚¤ãƒ©ã‚¤ãƒ©</a>
        <a href="/input/white" class="emotion-btn white">ğŸ˜ æœŸé–“é™å®š</a>
    </div>

    <a href="/logs" class="logs-btn">ğŸ“˜ ãã‚ãã‚’ã¿ã‚‹</a>

    <!-- å®¶æ—çµµæ–‡å­— -->
    <div class="family-area">
        <div id="mama" class="family-emoji">ğŸ‘©â€ğŸ¦°</div>
        <div id="toto" class="family-emoji">ğŸ‘¦</div>
    </div>

    <!-- éŸ³ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆã¾ã¾ï¼‰ -->
    <div id="mama-sounds" class="sound-emojis">
        <div class="sound-emoji">ğŸš—</div>
        <div class="sound-emoji">ğŸ¥</div>
        <div class="sound-emoji">ğŸ¹</div>
    </div>

    <!-- éŸ³ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆã¨ãƒ¼ã¨ï¼‰ -->
    <div id="toto-sounds" class="sound-emojis">
        <div class="sound-emoji">ğŸšƒ</div>
        <div class="sound-emoji">ğŸ“</div>
        <div class="sound-emoji">ğŸº</div>
    </div>

<script>
const soundMap = {
    "ğŸš—": ["/static/sounds/car1.mp3", "/static/sounds/car2.mp3"],
    "ğŸ¥": ["/static/sounds/drum1.mp3", "/static/sounds/drum2.mp3", "/static/sounds/drum3.mp3"],
    "ğŸ¹": ["/static/sounds/piano1.mp3"],
    "ğŸšƒ": ["/static/sounds/train1.mp3", "/static/sounds/train2.mp3"],
    "ğŸ“": ["/static/sounds/tel1.mp3", "/static/sounds/tel2.mp3"],
    "ğŸº": ["/static/sounds/trumpet1.mp3", "/static/sounds/trumpet2.mp3", "/static/sounds/trumpet3.mp3"]
};

// ã¾ã¾ãƒ»ã¨ãƒ¼ã¨ã‚¯ãƒªãƒƒã‚¯ã§éŸ³ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º
document.getElementById("mama").onclick = () => {
    document.getElementById("mama-sounds").style.display = "flex";
    document.getElementById("toto-sounds").style.display = "none";
};
document.getElementById("toto").onclick = () => {
    document.getElementById("toto-sounds").style.display = "flex";
    document.getElementById("mama-sounds").style.display = "none";
};

// å†ç”Ÿç”¨ Audio ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’1ã¤ã ã‘
let currentAudio = null;

// éŸ³ã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§éŸ³å†ç”Ÿï¼ˆå‰ã®éŸ³ã‚’åœæ­¢ï¼‰
document.querySelectorAll(".sound-emoji").forEach(el => {
    el.onclick = () => {
        const emoji = el.textContent.trim();
        if (!soundMap[emoji]) return;

        const sounds = soundMap[emoji];
        const randomSound = sounds[Math.floor(Math.random() * sounds.length)];

        // å‰ã®éŸ³ã‚’åœæ­¢
        if (currentAudio) {
            currentAudio.pause();
            currentAudio.currentTime = 0;
        }

        // æ–°ã—ã„éŸ³ã‚’å†ç”Ÿ
        currentAudio = new Audio(randomSound);
        currentAudio.play().catch(err => console.error("Audioå†ç”Ÿã‚¨ãƒ©ãƒ¼:", err));
    };
});
</script>

</body>
</html>
