<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãã‚‚ã¡ã«ã£ã</title>

    <style>
        body {
            font-family: "Nunito", "Hiragino Maru Gothic ProN", sans-serif;
            margin: 0;
            padding: 20px;
            text-align: center;
            background: {{ bg_color }};
        }

        h1 {
            font-size: 7vw;
            font-weight: bold;
            color: {{ main_color }};
            margin-top: 10px;
            margin-bottom: 20px;
            text-shadow: 1px 1px #ffffffaa;
        }

        .label {
            font-size: 5vw;
            margin-bottom: 20px;
            color: {{ main_color }};
        }

        textarea {
            width: 90%;
            height: 35vh;
            padding: 15px;
            font-size: 5vw;
            border-radius: 14px;
            border: 3px solid {{ main_color }};
            outline: none;
            resize: none;
            background: #ffffffd0;
            transition: 0.2s;
        }

        textarea:focus {
            background: #ffffff;
            box-shadow: 0 0 10px {{ main_color }}55;
        }

        /* --- ãƒœã‚¿ãƒ³ã‚’å¤§ãã --- */
        .submit-btn {
            margin-top: 25px;
            padding: 18px 40px;
            font-size: 6vw;
            border: none;
            border-radius: 40px;
            background: {{ main_color }};
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.18);
            transition: transform 0.15s ease-in-out;
        }

        .submit-btn:hover {
            transform: scale(1.08);
        }

        .home-btn {
            display: inline-block;
            margin-top: 40px;
            padding: 10px 25px;
            font-size: 5vw;
            text-decoration: none;
            color: {{ main_color }};
            transition: opacity 0.2s;
        }

        .home-btn:hover {
            opacity: 0.7;
        }

        /* --- ğŸ’Œ ã‚’å¼·èª¿ --- */
        .heart {
            display: inline-block;
            transform: scale(1.3);   /* åˆæœŸã‹ã‚‰å°‘ã—å¤§ãã */
            margin-left: 5px;
        }

        /* ğŸ’Œ ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹å¾Œ */
        .animate-heart {
            animation: popmove 2s infinite ease-in-out;
        }

        /* --- ğŸ’Œ ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚ˆã‚Šç›®ç«‹ã¤ï¼‰ --- */
        @keyframes popmove {
            0%   { transform: scale(1.3) translateY(0); }
            25%  { transform: scale(1.6) translateY(-6px); }
            50%  { transform: scale(1.45) translateY(3px); }
            75%  { transform: scale(1.7) translateY(-5px); }
            100% { transform: scale(1.3) translateY(0); }
        }
    </style>
</head>
<body>

    <h1>{{ emotion_label }}</h1>

    <p class="label">ã„ã¾ã® ãã‚‚ã¡ã‚’ ã‹ã„ã¦ã­ âœï¸</p>

    <form action="/generate" method="POST">
        <input type="hidden" name="color" value="{{ color }}">

        <textarea 
            name="user_input"
            placeholder="ã“ã“ã« ã‹ã„ã¦ã­"
            autofocus
        ></textarea>

        <br>

        <button type="submit" class="submit-btn">
            ãŠãã‚‹ <span class="heart">ğŸ’Œ</span>
        </button>        
    </form>

    <a href="/" class="home-btn">ğŸ  ãƒ›ãƒ¼ãƒ ã«ã‚‚ã©ã‚‹</a>

    <!-- 1ç§’å¾Œã«ğŸ’ŒãŒã‚¢ãƒ‹ãƒ¡é–‹å§‹ -->
    <script>
        window.addEventListener("DOMContentLoaded", () => {
            setTimeout(() => {
                document.querySelector(".heart").classList.add("animate-heart");
            }, 1000); // 1ç§’å¾Œã«é–‹å§‹
        });
    </script>

</body>
</html>
